#!/bin/bash
# 在服务器上执行的完整部署命令
# 连接服务器后，复制以下所有命令执行

# ==========================================
# 步骤 1: 创建目录并克隆代码
# ==========================================
cd /var/www
sudo mkdir -p tiktok-ai-mcn
sudo chown -R $USER:$USER tiktok-ai-mcn
cd tiktok-ai-mcn
git clone https://github.com/xuzone8888/tiktok-ai-mcn.git .

# ==========================================
# 步骤 2: 运行一键部署脚本
# ==========================================
bash deploy/one-click-deploy.sh

# 脚本会自动：
# - 安装 Node.js, PM2, Nginx
# - 创建环境变量模板
# - 安装依赖并构建
# - 启动应用

# ==========================================
# 步骤 3: 配置环境变量（脚本会提示）
# ==========================================
# 当脚本提示时，运行：
# nano .env.local
# 
# 从 Vercel 复制环境变量值并填入，然后保存

# ==========================================
# 步骤 4: 继续部署（如果脚本暂停）
# ==========================================
# 配置完环境变量后，如果脚本已退出，运行：
# bash deploy/deploy.sh




